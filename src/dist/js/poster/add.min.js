function addCommas(e){x=(e+="").split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1,$2");return x1+x2}Dropzone.autoDiscover=!1;const typePoster=$('input[name="type-poster"]'),statusPoster=$('input[name="status-poster"]'),firstItemOne=$("#first-item-one-poster"),SecondItemOne=$("#second-item-one-poster"),SecondItemTwo=$("#second-item-two-poster"),btnFirstNextItemOne=$("#btn-first-next-item-one-poster");function getProperty(e){const t={action:"get-property-poster",type:e};$.ajax({url:"/api/ajax",type:"POST",data:JSON.stringify(t),success:function(e){setHtmlProperty(JSON.parse(e))}})}function setHtmlProperty(e){let t="";for(let a=0;a<e.length;++a)t=t+'<label> <input type="checkbox" data-option-id="'+e[a].id+'"> <div class="mj-filter-option-item"> <div class="mj-filter-option-img"> <img src="'+e[a].image+'" alt="option"> </div><span>'+e[a].name+"</span></div></label>";$(".mj-filter-option-list").html(t)}typePoster.each((function(){$(this).change((function(){"type-truck"==$(this).prop("id")?$(".mj-a-status-parent-poster").parent().fadeIn(500):$(".mj-a-status-parent-poster").parent().fadeOut(500)}))})),btnFirstNextItemOne.on("click",(function(){"type-truck"==$('input[name="type-poster"]:checked').prop("id")?(firstItemOne.fadeOut(500,(function(){window.scrollTo(0,0),SecondItemOne.fadeIn(500)})),getProperty("truck")):(firstItemOne.fadeOut(500,(function(){window.scrollTo(0,0),SecondItemTwo.fadeIn(500)})),getProperty("trailer"));let e="";$('[name="status-poster"]').each((function(t){!0===$(this).is(":checked")&&(e=$(this).prop("id"))})),"status-new"==e?runTruck.parent().parent().addClass("d-none"):runTruck.parent().parent().removeClass("d-none")}));const modelTrailer=$("#model-trailer"),axisTrailer=$("#axis-trailer"),priceTrailer=$("#price-trailer"),currencyTrailer=$("#currency-trailer"),cashTrailer=$("#cash-trailer"),leasingTrailer=$("#leasing-trailer"),installmentTrailer=$("#installment-trailer"),btnSecondBackItemTwoPoster=$("#btn-second-back-item-two-poster"),btnSecondNextItemTwoPoster=$("#btn-second-next-item-two-poster");modelTrailer.select2({allowClear:!1,dropdownParent:$(".mj-a-select-child-7"),language:{noResults:function(){return $("<span class='mj-custom-select-item mj-font-13'>"+lang_vars.u_no_result_found+"</span>")}},templateResult:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)},templateSelection:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)}}),modelTrailer.on("change",(function(){$(this).parent().find(".select2-selection.select2-selection--single").removeClass("border-danger"),""==$(this).val().trim()&&$(this).parent().find(".select2-selection.select2-selection--single").addClass("border-danger")})),axisTrailer.select2({minimumResultsForSearch:1/0,allowClear:!1,dropdownParent:$(".mj-a-select-child-1"),language:{noResults:function(){return $("<span class='mj-custom-select-item mj-font-13'>"+lang_vars.u_no_result_found+"</span>")}},templateResult:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)},templateSelection:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)}}),axisTrailer.on("change",(function(){$(this).parent().find(".select2-selection.select2-selection--single").removeClass("border-danger"),""==$(this).val().trim()&&$(this).parent().find(".select2-selection.select2-selection--single").addClass("border-danger")})),priceTrailer.on("input",(function(){let e=$(this).val().replaceAll(",","");/\D/g.test(e)?(e=e.replace(/\D/g,""),$(this).val(addCommas(e))):$(this).val(addCommas(e))})),$("[data-tj-check-1]").on("input",(function(){let e=$(this);$("#second-item-two-poster").find("[data-tj-check-1]").prop("checked",!1),e.prop("checked",!0)})),btnSecondBackItemTwoPoster.on("click",(function(){SecondItemTwo.fadeOut(500,(function(){window.scrollTo(0,0),firstItemOne.fadeIn(500)}))})),btnSecondNextItemTwoPoster.on("click",(function(){modelTrailer.parent().removeClass("border-danger"),axisTrailer.parent().removeClass("border-danger"),priceTrailer.parent().removeClass("border-danger"),currencyTrailer.removeClass("border-danger");let e="";$('[name="status-poster"]').each((function(t){!0===$(this).is(":checked")&&(e=$(this).prop("id"))})),""==modelTrailer.val().trim()?(modelTrailer.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_trailer,"warning",2500)):""==axisTrailer.val().trim()?(axisTrailer.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_axis,"warning",2500)):-1==currencyTrailer.val()||""==currencyTrailer.val()?(currencyTrailer.addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.b_cargo_monetary_unit_error,"warning",2500)):SecondItemTwo.fadeOut(500,(function(){window.scrollTo(0,0),fourthItemOnePoster.fadeIn(500)}))}));const brandTruck=$("#brand-truck"),modelTruck=$("#model-truck"),gearboxTruck=$("#gearbox-truck"),colorTruck=$("#color-truck"),colorInputTruck=$("#color-input-truck"),fuelTruck=$("#fuel-truck"),btnSecondBackItemOnePoster=$("#btn-second-back-item-one-poster"),btnSecondNextItemOnePoster=$("#btn-second-next-item-one-poster"),thirdItemOnePoster=$("#third-item-one-poster"),runTruck=$("#run-truck"),priceTruck=$("#price-truck"),currencyTruck=$("#currency-truck"),cashTruck=$("#cash-truck"),leasingTruck=$("#leasing-truck"),installmentTruck=$("#installment-truck"),builtTruck=$("#built-truck"),btnThirdBackItemOnePoster=$("#btn-third-back-item-one-poster"),btnThirdNextItemOnePoster=$("#btn-third-next-item-one-poster");let yearDifference=0;brandTruck.click((function(){ModalBrand.modal("show"),brandTruck.parent().removeClass("border-danger")})),modelTruck.click((function(){modelTruck.parent().removeClass("border-danger"),brandTruck.attr("data-mj-value")?ModalModel.modal("show"):(brandTruck.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_barnd,"warning",2500))})),gearboxTruck.select2({minimumResultsForSearch:1/0,allowClear:!1,dropdownParent:$(".mj-a-select-child-4"),language:{noResults:function(){return $("<span class='mj-custom-select-item mj-font-13'>"+lang_vars.u_no_result_found+"</span>")}},templateResult:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)},templateSelection:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)}}),gearboxTruck.on("change",(function(){$(this).parent().find(".select2-selection.select2-selection--single").removeClass("border-danger"),""==$(this).val().trim()&&$(this).parent().find(".select2-selection.select2-selection--single").addClass("border-danger")})),fuelTruck.select2({minimumResultsForSearch:1/0,allowClear:!1,dropdownParent:$(".mj-a-select-child-5"),language:{noResults:function(){return $("<span class='mj-custom-select-item mj-font-13'>"+lang_vars.u_no_result_found+"</span>")}},templateResult:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)},templateSelection:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)}}),fuelTruck.on("change",(function(){$(this).parent().find(".select2-selection.select2-selection--single").removeClass("border-danger"),""==$(this).val().trim()&&$(this).parent().find(".select2-selection.select2-selection--single").addClass("border-danger")}));const pickr=Pickr.create({el:"#color-truck",theme:"nano",swatches:null,default:"var(--primary)",position:"bottom-middle",autoReposition:!0,components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!1,clear:!1,save:!0}},i18n:{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":lang_vars.b_select,"btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}});pickr.on("init",(e=>{})).on("hide",(e=>{})).on("show",((e,t)=>{})).on("save",((e,t)=>{pickr.hide()})).on("clear",(e=>{})).on("change",((e,t,a)=>{})).on("changestop",((e,t)=>{})).on("cancel",(e=>{})).on("swatchselect",((e,t)=>{})),colorInputTruck.on("click",(function(){pickr.show()})),builtTruck.on("input",(function(){$("#built-text-truck").text(parseInt($(this).val().trim())+yearDifference)})),$('[name="u-jalali-gregorian"]').each((function(){$(this).change((function(){"jalali"==$(this).prop("id")?(yearDifference=0,$("#built-text-truck").text(parseInt(builtTruck.val().trim()))):(yearDifference=621,$("#built-text-truck").text(parseInt(builtTruck.val().trim())+621))}))})),btnSecondBackItemOnePoster.on("click",(function(){SecondItemOne.fadeOut(500,(function(){window.scrollTo(0,0),firstItemOne.fadeIn(500)}))})),btnSecondNextItemOnePoster.on("click",(function(){brandTruck.parent().removeClass("border-danger"),modelTruck.parent().removeClass("border-danger"),gearboxTruck.parent().removeClass("border-danger"),fuelTruck.parent().removeClass("border-danger"),""==brandTruck.attr("data-mj-value")?(brandTruck.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_barnd,"warning",2500)):""==modelTruck.attr("data-mj-value")?(modelTruck.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_model,"warning",2500)):""==gearboxTruck.val().trim()?(gearboxTruck.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_gearbox,"warning",2500)):""==fuelTruck.val().trim()?(fuelTruck.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_fuel,"warning",2500)):SecondItemOne.fadeOut(500,(function(){window.scrollTo(0,0),thirdItemOnePoster.fadeIn(500)}))})),runTruck.on("input",(function(){let e=runTruck.attr("max"),t=runTruck.attr("min"),a=$(this).val().replaceAll(",","");parseInt(a)<e&&parseInt(a)>=t&&0!=a.length?/\D/g.test(a)?(a=a.replace(/\D/g,""),$(this).val(addCommas(a))):$(this).val(addCommas(a)):""==a?$(this).val(""):$(this).val(addCommas(1e6))})),priceTruck.on("input",(function(){let e=$(this).val().replaceAll(",","");/\D/g.test(e)?(e=e.replace(/\D/g,""),$(this).val(addCommas(e))):$(this).val(addCommas(e))})),$("[data-tj-check-2]").on("input",(function(){let e=$(this);$("#third-item-one-poster").find("[data-tj-check-2]").prop("checked",!1),e.prop("checked",!0)})),btnThirdBackItemOnePoster.on("click",(function(){thirdItemOnePoster.fadeOut(500,(function(){window.scrollTo(0,0),SecondItemOne.fadeIn(500)}))})),btnThirdNextItemOnePoster.on("click",(function(){runTruck.parent().removeClass("border-danger"),priceTruck.parent().removeClass("border-danger"),currencyTruck.removeClass("border-danger");let e="";$('[name="status-poster"]').each((function(t){!0===$(this).is(":checked")&&(e=$(this).prop("id"))})),"status-new"!=e&&runTruck.val().trim().length<=0?(runTruck.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_run,"warning",2500)):-1==currencyTruck.val()||""==currencyTruck.val()?(currencyTruck.addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.b_cargo_monetary_unit_error,"warning",2500)):thirdItemOnePoster.fadeOut(500,(function(){window.scrollTo(0,0),fourthItemOnePoster.fadeIn(500)}))}));const secondItemGeneralPoster=$("#second-item-general-poster"),fourthItemOnePoster=$("#fourth-item-one-poster"),btnFourthBackItemOnePoster=$("#btn-fourth-back-item-one-poster"),btnFourthNextItemOnePoster=$("#btn-fourth-next-item-one-poster"),mobile=$("#mobile"),phone=$("#phone"),clockFrom=$("#clock-from"),clockTo=$("#clock-to"),countries=$("#countries"),cities=$("#cities"),description=$("#description"),btnSecondBackItemGeneralPoster=$("#btn-second-back-item-general-poster"),btnSecondNextItemGeneralPoster=$("#btn-second-next-item-general-poster"),thirdItemGeneralPoster=$("#third-item-general-poster"),trailerImages=$("#trailerImages");let imagesList=[];const expert=$("#expert"),btnThirdBackItemGeneralPoster=$("#btn-third-back-item-general-poster"),btnThirdNextItemGeneralPoster=$("#btn-third-next-item-general-poster");btnFourthBackItemOnePoster.on("click",(function(){let e="";$('[name="type-poster"]').each((function(t){!0===$(this).is(":checked")&&(e=$(this).prop("id"))})),"type-truck"==e?fourthItemOnePoster.fadeOut(500,(function(){window.scrollTo(0,0),thirdItemOnePoster.fadeIn(500)})):fourthItemOnePoster.fadeOut(500,(function(){window.scrollTo(0,0),SecondItemTwo.fadeIn(500)}))})),btnFourthNextItemOnePoster.on("click",(function(){fourthItemOnePoster.fadeOut(500,(function(){window.scrollTo(0,0),secondItemGeneralPoster.fadeIn(500)}))})),countries.select2({allowClear:!1,dropdownParent:$(".mj-a-select-child-2"),language:{noResults:function(){return $("<span class='mj-custom-select-item mj-font-13'>"+lang_vars.u_no_result_found+"</span>")}},templateResult:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)},templateSelection:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)}}),countries.on("change",(function(){if($(this).parent().find(".select2-selection.select2-selection--single").removeClass("border-danger"),""==$(this).val().trim())$(this).parent().find(".select2-selection.select2-selection--single").addClass("border-danger");else{cities.html("");const e={action:"get-cities-by-country",country:$(this).val().trim(),type:"poster"};$.ajax({url:"/api/ajax",type:"POST",data:JSON.stringify(e),success:function(e){let t='<option value=""></option>';JSON.parse(e).response.forEach((function(e){t+=`\n                        <option value="${e.CityId}">${e.CityName}   ${e.CityNameEN}</option>\n                        `})),cities.html(t)}})}})),cities.select2({allowClear:!1,dropdownParent:$(".mj-a-select-child-3"),language:{noResults:function(){return $("<span class='mj-custom-select-item mj-font-13'>"+lang_vars.u_no_result_found+"</span>")}},templateResult:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)},templateSelection:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)}}),cities.on("change",(function(){$(this).parent().find(".select2-selection.select2-selection--single").removeClass("border-danger"),""==$(this).val().trim()&&$(this).parent().find(".select2-selection.select2-selection--single").addClass("border-danger")})),clockFrom.select2({minimumResultsForSearch:1/0,allowClear:!1,dropdownParent:$(".mj-a-select-child-6"),language:{noResults:function(){return $("<span class='mj-custom-select-item mj-font-13'>"+lang_vars.u_no_result_found+"</span>")}},templateResult:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)},templateSelection:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)}}),clockFrom.on("change",(function(){$(this).parent().find(".select2-selection.select2-selection--single").removeClass("border-danger"),""==$(this).val().trim()&&$(this).parent().find(".select2-selection.select2-selection--single").addClass("border-danger")})),clockTo.select2({minimumResultsForSearch:1/0,allowClear:!1,dropdownParent:$(".mj-a-select-child-8"),language:{noResults:function(){return $("<span class='mj-custom-select-item mj-font-13'>"+lang_vars.u_no_result_found+"</span>")}},templateResult:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)},templateSelection:function(e){const t=e.text;return $(`\n              <span class="mj-a-custom-select-item">\n                  ${t}\n              </span>\n          `)}}),clockTo.on("change",(function(){$(this).parent().find(".select2-selection.select2-selection--single").removeClass("border-danger"),""==$(this).val().trim()&&$(this).parent().find(".select2-selection.select2-selection--single").addClass("border-danger")})),btnSecondBackItemGeneralPoster.on("click",(function(){secondItemGeneralPoster.fadeOut(500,(function(){window.scrollTo(0,0),fourthItemOnePoster.fadeIn(500)}))})),btnSecondNextItemGeneralPoster.on("click",(function(){countries.parent().removeClass("border-danger"),cities.parent().removeClass("border-danger"),mobile.parent().removeClass("border-danger"),""==countries.val().trim()?(countries.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_country,"warning",2500)):""==cities.val().trim()?(cities.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_city,"warning",2500)):mobile.val().trim().length<11?(mobile.parent().addClass("border-danger"),sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_mobile,"warning",2500)):secondItemGeneralPoster.fadeOut(500,(function(){window.scrollTo(0,0),thirdItemGeneralPoster.fadeIn(500)}))})),Dropzone.options.trailerImages={url:"/poster/add",method:"post",acceptedFiles:"image/*",uploadMultiple:!0,maxFiles:10,autoProcessQueue:!0,accept:function(e,t){t(),this.on("thumbnail",(function(e,t){}))},init:function(){this.on("success",(async function(e){e.accepted&&imagesList.push(e.dataURL)})),this.on("uploadprogress",((e,t,a)=>{e.accepted&&(100==e.upload.progress&&($(e.previewElement).find("*[data-dz-progress]").parent().parent().children(".mj-dropzone-progress").html(lang_vars.dropzone_progress_completed),$(e.previewElement).find("*[data-dz-progress]").removeClass("progress-bar-striped").addClass("bg-success")),$(e.previewElement).find("*[data-dz-progress]").css("width",e.upload.progress+"%").text(`${Math.floor(e.upload.progress)}%`))})),this.on("removedfile",(async function(e){const t=imagesList.indexOf(e.dataURL);t>-1&&imagesList.splice(t,1)}))}},$('[data-plugin="dropzone"]').each((function(){let e=$(this).attr("action"),t=$(this).data("previewsContainer"),a={url:e};t&&(a.previewsContainer=t);let n=$(this).data("uploadPreviewTemplate");n&&(a.previewTemplate=$(n).html()),$(this).dropzone(a)})),btnThirdBackItemGeneralPoster.on("click",(function(){thirdItemGeneralPoster.fadeOut(500,(function(){window.scrollTo(0,0),secondItemGeneralPoster.fadeIn(500)}))})),btnThirdNextItemGeneralPoster.on("click",(function(){const e=$(this);let t="";$('[name="type-poster"]').each((function(e){!0===$(this).is(":checked")&&(t=$(this).data("tj-id"))}));let a="";$('[name="status-poster"]').each((function(e){!0===$(this).is(":checked")&&(a=$(this).data("tj-id"))}));let n=[];$(".mj-filter-option-list input:checked").each((function(){n.push($(this).attr("data-option-id"))})),e.attr("disabled",!0).css({transition:"all .3s",opacity:.5}),e.addClass("tj-a-loader-5");const r={action:"submit-poster",type:t,status:a,brandTruck:brandTruck.attr("data-mj-value").trim(),brandTextTruck:brandTruck.text().trim(),modelTruck:modelTruck.attr("data-mj-value").trim(),modelTextTruck:modelTruck.text().trim(),gearboxTruck:gearboxTruck.val().trim(),fuelTruck:fuelTruck.val().trim(),colorOutTruck:pickr.getColor().toHEXA().toString(),builtTruck:$("#built-text-truck").text().trim(),runTruck:runTruck.val().trim().replaceAll(",",""),priceTruck:priceTruck.val().trim().replaceAll(",",""),currencyTruck:currencyTruck.val().trim(),cashTruck:cashTruck.is(":checked"),leasingTruck:leasingTruck.is(":checked"),installmentTruck:installmentTruck.is(":checked"),modelTrailer:modelTrailer.val().trim(),axisTrailer:axisTrailer.val().trim(),priceTrailer:priceTrailer.val().trim().replaceAll(",",""),currencyTrailer:currencyTrailer.val().trim(),cashTrailer:cashTrailer.is(":checked"),leasingTrailer:leasingTruck.is(":checked"),installmentTrailer:installmentTrailer.is(":checked"),properties:n,country:countries.val().trim(),city:cities.val().trim(),mobile:mobile.val().trim(),phone:phone.val().trim(),clockFrom:clockFrom.val().trim(),clockTo:clockTo.val().trim(),description:description.val().trim(),images:imagesList,token:$("#token").val().trim()};$.ajax({url:"/api/ajax",type:"POST",data:JSON.stringify(r),success:function(t){console.log(t);const a=JSON.parse(t);200==a.status?(sendNotice(lang_vars.alert_success,lang_vars.u_alert_success_add_poster,"success",2500),setTimeout((()=>{window.location.href="/poster/my-list/pending"}),2500)):(sendNotice(lang_vars.alert_warning,lang_vars.u_alert_warning_add_poster,"warning",2500),$("#token").val(a.response),e.attr("disabled",!1).css({transition:"all .3s",opacity:1}),e.removeClass("tj-a-loader-5"))}})}));const ModalBrand=$("#choose-brand-modal"),searchBrand=$("#brand-search-table"),addNewBrandParent=$("#add-new-brand-parent"),submitModalBrand=$("#submit-modal-brand");function getBrands(){$.ajax({url:"/api/ajax",type:"POST",data:JSON.stringify({action:"get-brands-poster"}),success:function(e){const t=JSON.parse(e);200==t.status&&setHtmlBrand(t.data)}})}function setHtmlBrand(e){let t="";for(let a=0;a<e.length;++a)t=t+'<div class="col-4 mj-a-brand-item"><input type="radio" name="brand-select" data-value-id="'+e[a].id+'" id="brand-cc-'+e[a].id+'"> <label for="brand-cc-'+e[a].id+'" class="mj-a-brand-modal-div"><img src="'+e[a].image+'"><span class="my-1">'+e[a].name+'</span><i class="d-none">'+e[a].name_en+"</i></label></div>";searchBrand.prepend(t)}$("#search-brand").on("keyup",(function(){addNewBrandParent.addClass("mj-a-height-0"),addNewBrandParent.removeClass("mj-a-height-active"),submitModalBrand.attr("disabled",!0).css({transition:"all .3s",opacity:.5});var e=$(this).val().toLowerCase();let t=!1;$("#brand-search-table .mj-a-brand-item").filter((function(){$(this).text().toLowerCase().indexOf(e)>-1&&(t=!0),t?$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1):$(this).toggle($(this).text().toLowerCase().indexOf("no thing")>-1)}))})),$("body").find('[name="brand-select"]').each((function(){$(document).on("change",".mj-a-brand-item",(function(){brandTruck.html('<span class="mj-a-black">'+lang_vars.u_select_brand+"</span>"),brandTruck.attr("data-mj-value",""),$("#add-new-brand").val(""),$("body").find('[name="brand-select"]').each((function(e){!0===$(this).is(":checked")&&("brand-cc-another"==$(this).prop("id")?(addNewBrandParent.removeClass("mj-a-height-0"),addNewBrandParent.addClass("mj-a-height-active"),submitModalBrand.attr("disabled",!0).css({transition:"all .3s",opacity:.5})):(submitModalBrand.attr("disabled",!1).css({transition:"all .3s",opacity:1}),addNewBrandParent.addClass("mj-a-height-0"),addNewBrandParent.removeClass("mj-a-height-active")))}))}))})),$(document).ready((function(){getBrands()})),submitModalBrand.on("click",(function(){let e=$(this),t=null;if($("body").find('[name="brand-select"]').each((function(e){!0===$(this).is(":checked")&&(t=$(this).prop("id"))})),t)if("brand-cc-another"==t)$("#add-new-brand").val().trim().length>0?(ModalBrand.modal("hide"),brandTruck.html($("#add-new-brand").val().trim()),brandTruck.attr("data-mj-value",0),e.attr("disabled",!1).css({transition:"all .3s",opacity:1}),modelTruck.attr("data-mj-value",""),modelTruck.html('<span class="mj-a-black">'+lang_vars.u_select_model+"</span>"),addNewModelParent.removeClass("mj-a-height-active").addClass("mj-a-height-0"),submitModalModel.attr("disabled",!0).css({transition:"all .3s",opacity:.5}),getModels(0),$("#add-new-brand").val("")):(e.attr("disabled",!0).css({transition:"all .3s",opacity:.5}),sendNotice(lang_vars.alert_warning,lang_vars.u_please_input_brand_name,"warning",2500));else{ModalBrand.modal("hide");let e=$("#"+t+" + label > span ").text().trim(),a=$("#"+t).attr("data-value-id");brandTruck.html(e),brandTruck.attr("data-mj-value",a),modelTruck.attr("data-mj-value",""),modelTruck.html('<span class="mj-a-black">'+lang_vars.u_select_model+"</span>"),addNewModelParent.removeClass("mj-a-height-active").addClass("mj-a-height-0"),submitModalModel.attr("disabled",!0).css({transition:"all .3s",opacity:.5}),getModels(a)}else sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_brand_name,"warning",2500)})),$(document).on("keyup focusout","#add-new-brand",(function(){$("#add-new-brand").val().trim().length>0?submitModalBrand.attr("disabled",!1).css({transition:"all .3s",opacity:1}):submitModalBrand.attr("disabled",!0).css({transition:"all .3s",opacity:.5})}));const ModalModel=$("#choose-model-modal"),modelSelected=$('[name="model-select"]'),addNewModelParent=$("#add-new-model-parent"),modelSearchTable=$("#model-search-table"),submitModalModel=$("#submit-modal-model");let allModels=[];const variableOtherModel='<div class="col-12 mj-a-model-item"> <input type="radio" name="model-select" id="model-cc-another"> <label for="model-cc-another" class="mj-a-model-modal-div"><span class="my-1"> <i class="fa-plus"></i> '+lang_vars.u_other+'</span><i class="d-none">no thing other</i></label></div>';function getAllModels(){$.ajax({url:"/api/ajax",type:"POST",data:JSON.stringify({action:"get-models-poster"}),success:function(e){const t=JSON.parse(e);200==t.status&&(allModels=t.data)}})}function getModels(e){let t=[];for(let a=0;a<allModels.length;a++)allModels[a].brandId==e&&t.push(allModels[a]);setHtmlModel(t)}function setHtmlModel(e){let t="";for(let a=0;a<e.length;++a)t=t+'<div class="col-12 mj-a-model-item"><input type="radio" name="model-select" data-value-id="'+e[a].id+'" id="model-cc-'+e[a].id+'"><label for="model-cc-'+e[a].id+'" class="mj-a-model-modal-div"> <span class="my-1">'+e[a].name+'</span><i class="d-none">'+e[a].name_en+"</i></label></div>";modelSearchTable.html(t+variableOtherModel)}$(document).ready((function(){getAllModels()})),$("#search-model").on("keyup",(function(){addNewModelParent.addClass("mj-a-height-0"),addNewModelParent.removeClass("mj-a-height-active"),submitModalModel.attr("disabled",!0).css({transition:"all .3s",opacity:.5});var e=$(this).val().toLowerCase();let t=!1;$("#model-search-table .mj-a-model-item").filter((function(){$(this).text().toLowerCase().indexOf(e)>-1&&(t=!0),t?$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1):$(this).toggle($(this).text().toLowerCase().indexOf("no thing")>-1)}))})),$(document).find('[name="model-select"]').each((function(){$(document).on("change",".mj-a-model-item",(function(){modelTruck.html('<span class="mj-a-black">'+lang_vars.u_select_model+"</span>"),modelTruck.attr("data-mj-value",""),$("#add-new-model").val(""),$("body").find('[name="model-select"]').each((function(e){!0===$(this).is(":checked")&&("model-cc-another"==$(this).prop("id")?(addNewModelParent.removeClass("mj-a-height-0"),addNewModelParent.addClass("mj-a-height-active"),submitModalModel.attr("disabled",!0).css({transition:"all .3s",opacity:.5})):(submitModalModel.attr("disabled",!1).css({transition:"all .3s",opacity:1}),addNewModelParent.addClass("mj-a-height-0"),addNewModelParent.removeClass("mj-a-height-active")))}))}))})),submitModalModel.on("click",(function(){let e=$(this),t=null;if($("body").find('[name="model-select"]').each((function(e){!0===$(this).is(":checked")&&(t=$(this).prop("id"))})),t)if("model-cc-another"==t)$("#add-new-model").val().trim().length>0?(ModalModel.modal("hide"),modelTruck.html($("#add-new-model").val().trim()),modelTruck.attr("data-mj-value",0),e.attr("disabled",!1).css({transition:"all .3s",opacity:1}),$("#add-new-model").val(""),e.attr("disabled",!0).css({transition:"all .3s",opacity:.5})):(e.attr("disabled",!0).css({transition:"all .3s",opacity:.5}),sendNotice(lang_vars.alert_warning,lang_vars.u_please_input_model_name,"warning",2500));else{ModalModel.modal("hide");let a=$("#"+t+" + label > span ").text().trim(),n=$("#"+t).attr("data-value-id");modelTruck.html(a),modelTruck.attr("data-mj-value",n),$("#add-new-model").val(""),e.attr("disabled",!0).css({transition:"all .3s",opacity:.5})}else sendNotice(lang_vars.alert_warning,lang_vars.u_please_select_model_name,"warning",2500)})),$(document).on("input focusout","#add-new-model",(function(){$("#add-new-model").val().trim().length>0?submitModalModel.attr("disabled",!1).css({transition:"all .3s",opacity:1}):submitModalModel.attr("disabled",!0).css({transition:"all .3s",opacity:.5})}));