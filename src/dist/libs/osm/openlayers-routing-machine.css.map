{
  "version": 3,
  "file": "openlayers-routing-machine.css",
  "sources": [
    "..\\node_modules\\routing-components\\src\\components\\Control.html",
    "..\\node_modules\\routing-components\\src\\components\\Geocoder.html",
    "..\\node_modules\\routing-components\\src\\components\\Itinerary.html",
    "..\\src\\components\\ControlWrapper.html"
  ],
  "sourcesContent": [
    "<div class=\"routing-control\">\n  <div>\n  {{#each waypoints as waypoint, i}}\n    <:Component {Marker}\n      map={{map}}\n      lngLat={{waypoint.lngLat}}\n      dragging={{draggedWaypoint === waypoint}}\n      on:drag='dragWaypoint(event, i, true)'\n      on:dragend='dragWaypoint(event, i)' />\n    {{#if geocoder}}\n    <Geocoder\n      waypoint={{waypoint}}\n      geocoder={{geocoder}}\n      on:geocoded='setWaypoint(i, event.data)'\n      on:reversegeocoded='setWaypoint(i, event.data)'/>\n    {{/if}}\n  {{/each}}\n  </div>\n  <div>\n    {{#each routes as route}}\n      <:Component {RouteLine}\n        map={{map}}\n        route={{route}}\n        selected={{route === selectedRoute}}\n        on:selected='selectRoute(route)'\n        on:dragging='addDraggingWaypoint(event.afterWpIndex, event.lngLat)'/>\n      <Itinerary\n        route={{route}}\n        selected={{route === selectedRoute}}\n        on:selected='selectRoute(route)' />\n    {{/each}}\n  </div>\n</div>\n\n<script>\nimport Geocoder from './Geocoder.html'\nimport Itinerary from './Itinerary.html'\nimport Waypoint from '../waypoint'\n\nexport default {\n  oncreate () {\n    this.observe('waypoints', waypoints => {\n      this.lastRouteTimestamp = +new Date()\n      this.get('router').route(waypoints, this.routeReceived.bind(this))\n    })\n  },\n\n  data () {\n    return {\n      routes: [],\n      draggedWaypoint: null\n    }\n  },\n\n  methods: {\n    routeReceived (err, routes) {\n      if (err) {\n        // TODO: error handling\n        console.error(err)\n        return\n      }\n\n      this.set({routes, selectedRoute: routes[0]})\n    },\n    dragWaypoint (e, i, dragging) {\n      if (this.routeDebounce) {\n        clearTimeout(this.routeDebounce)\n      }\n      var now = +new Date()\n      var firstNextRun = (this.lastRouteTimestamp || now) + 250\n      var timeout = dragging ? Math.max(0, firstNextRun - now) : 0\n      this.routeDebounce = setTimeout(() => {\n        const waypoints = this.get('waypoints')\n        waypoints[i].lngLat = e.lngLat\n        if (!dragging) {\n          waypoints[i].name = null\n        }\n        this.set({waypoints})\n        if (!dragging) {\n          this.set({draggedWaypoint: null})\n        }\n      }, dragging ? timeout : 0)\n    },\n    selectRoute (route) {\n      this.set({selectedRoute: route})\n    },\n    setWaypoint (i, data) {\n      const waypoints = this.get('waypoints')\n      Object.assign(waypoints[i], data)\n      this.set({waypoints})\n    },\n    addDraggingWaypoint (afterWpIndex, lngLat) {\n      const waypoints = this.get('waypoints')\n      const waypoint = new Waypoint(lngLat)\n      waypoints.splice(afterWpIndex + 1, 0, waypoint)\n      this.set({waypoints, draggedWaypoint: waypoint})\n    }\n  },\n\n  components: {\n    Geocoder,\n    Itinerary\n  }\n}\n</script>\n\n<style>\n  .routing-control {\n    transition: \"width, height, font-size\" 0.25s ease-out;\n\n    background-color: white;\n    color: #444;\n    padding: 0.25em 0.75em;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n    border-radius: 4px;\n  }\n\n  .routing-control h1 {\n    font-size: 100%;\n    clear: none;\n    display: inline-block;\n  }\n\n  .routing-control h1 a {\n    text-decoration: none;\n    color: inherit;\n  }\n\n  .routing-route-summary {\n    float: right;\n    margin: 0.83em;\n  }\n</style>",
    "<input\n  ref:input\n  value='{{waypoint.name}}'\n  on:keydown='keydown(event)'\n  on:focus='refs.input.select()'\n  on:blur='set({showSuggestions: false})'/>\n{{#if showSuggestions}}\n<ul>\n  {{#each suggestions as suggestion, i}}\n  <li class={{selectedIndex === i ? 'selected' : ''}}>\n    <button type=\"button\" on:mousedown=\"selectSuggestion(suggestion)\">{{suggestion.name}}</button>\n  </li>\n  {{/each}}\n</ul>\n{{/if}}\n\n<script>\nvar idCounter = 0\n\nexport default {\n  oncreate () {\n    this.observe('waypoint', wp => {\n      if (!wp.name) {\n        this.reverseGeocode()\n      }\n    })\n  },\n\n  data () {\n    return {\n      id: ++idCounter,\n      suggestions: [],\n      showSuggestions: false,\n      selectedIndex: -1\n    }\n  },\n\n  methods: {\n    keydown (e) {\n      const currIndex = this.get('selectedIndex')\n      const changeSelection = d => {\n        const nSuggestions = this.get('suggestions').length\n\n        this.set({selectedIndex: (currIndex + d) % nSuggestions})\n      }\n\n      switch (e.keyCode) {\n        case 13:\n          if (currIndex >= 0) {\n            this.selectSuggestion(this.get('suggestions')[currIndex])\n          } else {\n            this.geocode(e)\n          }\n          break\n        case 38:\n          changeSelection(-1)\n          break\n        case 40:\n          changeSelection(1)\n          break\n      }\n    },\n\n    geocode (e) {\n      const waypoint = this.get('waypoint')\n      const value = e.target.value\n\n      this.set({showSuggestions: true})\n\n      if (value !== waypoint.name) {\n        this.set({suggestions: [], selectedIndex: -1})\n\n        this.get('geocoder').geocode(value, results => {\n          results = results.map(result => ({\n            name: result.name,\n            lngLat: [result.center.lng, result.center.lat]\n          }))\n\n          if (results.length === 1) {\n            this.fire('geocoded', {data: results[0]})\n          } else {\n            this.set({suggestions: results})\n          }\n        })\n      }\n    },\n\n    reverseGeocode () {\n      const waypoint = this.get('waypoint')\n      const lngLat = waypoint.lngLat\n      if (lngLat) {\n        this.get('geocoder').reverse(\n          {lat: lngLat[1], lng: lngLat[0]},\n          18,\n          results =>\n            this.fire('reversegeocoded', {data: {name: results[0].name}}))\n      }\n    },\n\n    selectSuggestion (suggestion) {\n      this.set({showSuggestions: false})\n      this.fire('geocoded', {data: suggestion})\n    }\n  }\n}\n</script>\n\n<style>\n  input {\n    border: none;\n    border-bottom: 1px solid #ddd;\n    width: 100%;\n    margin: 0.5em 0 0.5em 0;\n    padding: 0 0.3em 0.2em 0.3em;\n  }\n\n  ul {\n    left: 0.25em;\n    background-color: white;\n    list-style-type: none;\n    position: absolute;\n    border: 1px solid #ddd;\n    padding: 0 0.5em 0;\n    margin: 0;\n    word-wrap: none;\n    text-overflow: ellipsis;\n  }\n\n  li {\n    padding-top: 0.5em;\n    border-bottom: 1px solid #ddd;\n  }\n\n  li:last {\n    border-bottom: none;\n  }\n\n  li.selected {\n    background-color: #ddd;\n  }\n\n  button {\n    background: none;\n    color: inherit;\n    border: none;\n    padding: 0;\n    font: inherit;\n    cursor: pointer;\n    outline: inherit;\n    word-wrap: none;\n    text-overflow: ellipsis;\n    width: 100%;\n    text-align: left;\n  }\n</style>",
    "<div class={{'routing-alternative' + (selected ? ' routing-selected' : '')}}>\n  <div>\n    <h1>\n      <a href=\"#\" on:click='fire(\"selected\")'>{{route.name}}</a>\n    </h1>\n    <div class=\"routing-route-summary\">\n      {{formatDistance(route.summary.totalDistance, -1)}},\n      {{formatDuration(route.summary.totalTime)}}\n    </div>\n  </div>\n  <div class=\"routing-route-itinerary\">\n    <table>\n      <tbody>\n        {{#each route.instructions as instr}}\n          <tr>\n            <td>{{instr.text}}</td>\n          </tr>\n        {{/each}}\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<script>\nimport {formatDuration, formatDistance} from '../utils'\n\nexport default {\n  helpers: {\n    formatDistance,\n    formatDuration\n  }\n}\n</script>\n\n<style>\n  .routing-route-summary {\n    float: right;\n    margin: 0.83em;\n  }\n\n  .routing-route-itinerary {\n    max-height: 0;\n    overflow: hidden;\n  }\n\n  .routing-alternative {\n    color: #aaa;\n  }\n\n  .routing-alternative.routing-selected {\n    color: #444;\n  }\n</style>",
    "<div ref:control class=\"routing-control\">\n</div>\n\n<script>\nimport {Control} from 'routing-components'\n\nexport default {\n  oncreate () {\n    this.control = new Control({\n      target: this.refs.control,\n      data: this.options.data\n    })\n  },\n\n  ondestroy () {\n    this.control.destroy()\n  }\n}\n</script>\n\n<style>\n  .routing-control {\n    font-family: sans-serif;\n    position: absolute;\n    top: 5px;\n    right: 5px;\n  }\n</style>"
  ],
  "names": [],
  "mappings": "AA2GE,wEAAiB,CAAC,AAChB,UAAU,CAAE,0BAA0B,CAAC,KAAK,CAAC,QAAQ,CAErD,gBAAgB,CAAE,KAAK,CACvB,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,MAAM,CAAC,MAAM,CACtB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CACtC,aAAa,CAAE,GAAG,AACpB,CAAC,AAED,8EAAoB,CAAC,AACnB,SAAS,CAAE,IAAI,CACf,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,YAAY,AACvB,CAAC,AAED,kFAAsB,CAAC,AACrB,eAAe,CAAE,IAAI,CACrB,KAAK,CAAE,OAAO,AAChB,CAAC,AAED,oFAAuB,CAAC,AACtB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,MAAM,AAChB,CAAC;ACvBD,gDAAM,CAAC,AACL,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CAC7B,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CACvB,OAAO,CAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,AAC9B,CAAC,AAED,0CAAG,CAAC,AACF,IAAI,CAAE,MAAM,CACZ,gBAAgB,CAAE,KAAK,CACvB,eAAe,CAAE,IAAI,CACrB,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CACtB,OAAO,CAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAClB,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,IAAI,CACf,aAAa,CAAE,QAAQ,AACzB,CAAC,AAED,0CAAG,CAAC,AACF,WAAW,CAAE,KAAK,CAClB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,AAC/B,CAAC,AAED,oDAAQ,CAAC,AACP,aAAa,CAAE,IAAI,AACrB,CAAC,AAED,4DAAY,CAAC,AACX,gBAAgB,CAAE,IAAI,AACxB,CAAC,AAED,kDAAO,CAAC,AACN,UAAU,CAAE,IAAI,CAChB,KAAK,CAAE,OAAO,CACd,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,CAAC,CACV,IAAI,CAAE,OAAO,CACb,MAAM,CAAE,OAAO,CACf,OAAO,CAAE,OAAO,CAChB,SAAS,CAAE,IAAI,CACf,aAAa,CAAE,QAAQ,CACvB,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,IAAI,AAClB,CAAC;ACtHD,oFAAuB,CAAC,AACtB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,MAAM,AAChB,CAAC,AAED,wFAAyB,CAAC,AACxB,UAAU,CAAE,CAAC,CACb,QAAQ,CAAE,MAAM,AAClB,CAAC,AAED,gFAAqB,CAAC,AACpB,KAAK,CAAE,IAAI,AACb,CAAC,AAED,kHAAsC,CAAC,AACrC,KAAK,CAAE,IAAI,AACb,CAAC;AC9BD,wEAAiB,CAAC,AAChB,WAAW,CAAE,UAAU,CACvB,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,GAAG,CACR,KAAK,CAAE,GAAG,AACZ,CAAC"
}