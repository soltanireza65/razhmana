const b=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}};b();let d=parseFloat($("#map-detail").attr("data-source-lat")),u=parseFloat($("#map-detail").attr("data-source-long")),g=parseFloat($("#map-detail").attr("data-dest-lat")),m=parseFloat($("#map-detail").attr("data-dest-long")),P=$("#map-detail").attr("data-source-icon"),O=$("#map-detail").attr("data-dest-icon"),y=parseInt($("#map-detail").attr("data-zoom")),c=parseInt($("#map-detail").attr("data-img-size")),h=$("#map-detail").attr("data-road-color"),L=parseInt(E(d,u,g,m).toString());console.log("distance",L);var v=ol.proj.fromLonLat([d,u]),S=ol.proj.fromLonLat([g,m]);console.log(d,u,g,m);function R(o,r,a,n){const e=(o+a)/2,t=(r+n)/2;return[e,t]}let f=ol.proj.fromLonLat(R(d,u,g,m));console.log(f);var s=new ol.Map({target:"map",layers:[new ol.layer.Tile({source:new ol.source.OSM})],view:new ol.View({center:f,zoom:y})}),F=new ol.Feature({geometry:new ol.geom.Point(v)}),j=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],src:P,height:c,width:c})});F.setStyle(j);var p=new ol.source.Vector({features:[F]}),M=new ol.layer.Vector({source:p});s.addLayer(M);var x=new ol.Feature({geometry:new ol.geom.Point(S)}),k=new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],src:O,height:c,width:c})});x.setStyle(k);p.addFeature(x);var I=new ol.Feature({geometry:new ol.geom.LineString([v,S])}),q=new ol.style.Style({stroke:new ol.style.Stroke({color:h,width:5})});I.setStyle(q);p.addFeature(I);function E(o,r,a,n){const t=i(a-o),l=i(n-r),w=Math.sin(t/2)*Math.sin(t/2)+Math.cos(i(o))*Math.cos(i(a))*Math.sin(l/2)*Math.sin(l/2),V=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return 6371*V}function i(o){return o*(Math.PI/180)}var z=new ol.Feature({geometry:new ol.geom.Point(f),text:L+" KM"}),K=new ol.style.Style({text:new ol.style.Text({text:z.get("text"),font:"25px Arial",fill:new ol.style.Fill({color:"#fff"}),backgroundFill:new ol.style.Fill({color:h})})}),N=new ol.layer.Vector({source:new ol.source.Vector({features:[z]}),style:K});s.addLayer(N);var A=M.getSource().getExtent(),C=s.getSize();y=s.getView().getZoomForResolution(s.getView().getResolutionForExtent(A,C));s.getView().setZoom(y-2);
//# sourceMappingURL=index.743d950e.js.map
